# Test ì…‹ ì„±ëŠ¥ í‰ê°€ ë³´ê³ ì„œ

**í‰ê°€ì¼**: 2026-01-29  
**ëª¨ë¸**: DeepLabV3+ (ResNet101)  
**ì²´í¬í¬ì¸íŠ¸**: best_iou0.6583_epoch45.pth  
**Test ìƒ˜í”Œ**: 31ê°œ

---

## ğŸ“Š í•µì‹¬ ê²°ê³¼ ìš”ì•½

### ğŸ¯ Test IoU: **0.6576 Â± 0.0615**

| ì§€í‘œ | ê°’ | í‰ê°€ |
|------|-----|------|
| **Mean IoU** | 0.6576 | âš ï¸ ìµœì†Œ ê¸°ì¤€(0.70) ë¯¸ë‹¬ (-0.042) |
| **Median IoU** | 0.6742 | âš ï¸ ì¤‘ì•™ê°’ì€ ë” ë†’ìŒ |
| **Best IoU** | 0.7290 | âœ… ì¼ë¶€ ìƒ˜í”Œì€ ëª©í‘œ ë‹¬ì„± |
| **Worst IoU** | 0.4786 | âŒ ì¼ë¶€ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì¡´ì¬ |
| **Std Dev** | 0.0615 | âœ… ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì  |

---

## ğŸ“ˆ ëª©í‘œ ëŒ€ë¹„ í‰ê°€

### ë¬¸ì„œ ëª©í‘œ vs ì‹¤ì œ ë‹¬ì„±

| ëª©í‘œ ìˆ˜ì¤€ | ëª©í‘œ IoU | Test IoU | ë‹¬ì„±ë¥  | ìƒíƒœ |
|-----------|----------|----------|--------|------|
| **ë‚™ê´€ì ** | â‰¥ 0.80 | 0.6576 | 82.2% | âŒ ë¯¸ë‹¬ |
| **í˜„ì‹¤ì ** | â‰¥ 0.75 | 0.6576 | 87.7% | âŒ ë¯¸ë‹¬ |
| **ìµœì†Œ ê¸°ì¤€** | â‰¥ 0.70 | 0.6576 | **94.0%** | âš ï¸ **ë§¤ìš° ê·¼ì ‘** |

**í‰ê°€**: âŒ **ìµœì†Œ ê¸°ì¤€ ë¯¸ë‹¬** (0.042 ë¶€ì¡±)
- í•˜ì§€ë§Œ **ë§¤ìš° ê·¼ì ‘** (94% ë‹¬ì„±)
- Median IoU (0.6742)ëŠ” ë” ë†’ìŒ
- ì¶”ê°€ ê°œì„ ìœ¼ë¡œ ëª©í‘œ ë‹¬ì„± ê°€ëŠ¥

---

## ğŸ” ì„¸ë¶€ ì§€í‘œ ë¶„ì„

### 1. IoU (Intersection over Union) - ê°€ì¥ ì¤‘ìš”

```
Mean:   0.6576 Â± 0.0615
Median: 0.6742
Range:  [0.4786, 0.7290]

ë¶„í¬:
- 0.70 ì´ìƒ: 41.9% (13/31 ìƒ˜í”Œ)
- 0.65-0.70: 35.5% (11/31 ìƒ˜í”Œ)
- 0.60-0.65: 16.1% (5/31 ìƒ˜í”Œ)
- 0.60 ë¯¸ë§Œ: 6.5% (2/31 ìƒ˜í”Œ)
```

**í‰ê°€**: 
- âœ… 41.9%ì˜ ìƒ˜í”Œì´ ìµœì†Œ ê¸°ì¤€(0.70) ì´ìƒ ë‹¬ì„±
- âš ï¸ í‰ê· ì„ ëŒì–´ë‚´ë¦¬ëŠ” ëª‡ ê°œì˜ ì–´ë ¤ìš´ ìƒ˜í”Œ ì¡´ì¬
- âœ… ì¤‘ì•™ê°’(0.6742)ì´ í‰ê· ë³´ë‹¤ ë†’ìŒ â†’ ëŒ€ë¶€ë¶„ì€ ì–‘í˜¸

---

### 2. Pixel Accuracy - ë§¤ìš° ìš°ìˆ˜

```
Mean:   0.9849 Â± 0.0079
Median: 0.9859
Range:  [0.9531, 0.9946]
```

**í‰ê°€**: â­â­â­â­â­ **Excellent**
- âœ… 98.49% í”½ì…€ ì •í™•ë„
- âœ… ë°°ê²½(background)ì„ ë§¤ìš° ì •í™•íˆ ë¶„ë¥˜
- âœ… ë§¤ìš° ë‚®ì€ í‘œì¤€í¸ì°¨ (0.79%)

---

### 3. Precision (ì •ë°€ë„) - ê°œì„  í•„ìš”

```
Mean:   0.3712 Â± 0.1280
Median: 0.4075
Range:  [0.0000, 0.4873]
```

**í‰ê°€**: âš ï¸âš ï¸ **ë‚®ìŒ - ì£¼ìš” ë¬¸ì œì **
- âŒ í‰ê·  37.12%ë§Œ ì •í™• (False Positive ë§ìŒ)
- âš ï¸ ëª¨ë¸ì´ ì°¨ì„ ì´ ì•„ë‹Œ ê³³ì„ ì°¨ì„ ìœ¼ë¡œ ì˜¤ì¸ì‹
- âŒ ìµœì•…ì˜ ê²½ìš° Precision 0 (ì™„ì „ ì‹¤íŒ¨)

**ë¬¸ì œ**: 
- ê³¼ë„í•œ ì˜ˆì¸¡ (Over-prediction)
- ë°°ê²½ì„ ì°¨ì„ ìœ¼ë¡œ ì˜ëª» ë¶„ë¥˜

---

### 4. Recall (ì¬í˜„ìœ¨) - ì–‘í˜¸

```
Mean:   0.6926 Â± 0.2396
Median: 0.7742
Range:  [0.0000, 0.9215]
```

**í‰ê°€**: âœ… **ì–‘í˜¸**
- âœ… í‰ê·  69.26%ì˜ ì‹¤ì œ ì°¨ì„  ê²€ì¶œ
- âœ… ì¤‘ì•™ê°’ 77.42%ëŠ” ë” ë†’ìŒ
- âš ï¸ ì¼ë¶€ ìƒ˜í”Œì—ì„œ ì™„ì „ ì‹¤íŒ¨ (Recall 0)

**ì˜ë¯¸**: 
- ì‹¤ì œ ì°¨ì„ ì˜ ì•½ 70%ë¥¼ ì°¾ì•„ëƒ„
- ë‚˜ë¨¸ì§€ 30%ëŠ” ë†“ì¹¨ (False Negative)

---

### 5. F1-Score (ì¡°í™” í‰ê· )

```
Mean:   0.4822 Â± 0.1649
Median: 0.5350
Range:  [0.0000, 0.6375]
```

**í‰ê°€**: âš ï¸ **ë³´í†µ**
- âš ï¸ Precision-Recall ê· í˜• ì¸¡ë©´ì—ì„œ ì¤‘ê°„
- ê°œì„  í•„ìš”

---

## ğŸ†š Val vs Test ë¹„êµ

| ì§€í‘œ | Val (Epoch 45) | Test | Gap | í‰ê°€ |
|------|----------------|------|-----|------|
| **IoU** | 0.6583 | 0.6576 | -0.0007 | âœ… **ê±°ì˜ ë™ì¼** |
| **Gap** | - | -0.07% | - | â­ **ì¼ë°˜í™” ì™„ë²½** |

**í‰ê°€**: â­â­â­â­â­ **Excellent Generalization**
- âœ… Valê³¼ Test ì„±ëŠ¥ ê±°ì˜ ë™ì¼
- âœ… ê³¼ì í•© ì—†ìŒ
- âœ… ëª¨ë¸ì´ ì•ˆì •ì ìœ¼ë¡œ ì¼ë°˜í™”

---

## ğŸ“‰ ë¬¸ì œì  ë¶„ì„

### 1. ë‚®ì€ Precision (37.1%) - **ê°€ì¥ í° ë¬¸ì œ**

**ì›ì¸**:
1. âŒ **False Positive ê³¼ë‹¤**: ë°°ê²½ì„ ì°¨ì„ ìœ¼ë¡œ ì˜¤ì¸ì‹
2. âš ï¸ **ì„ê³„ê°’ ë¬¸ì œ**: Softmax ì¶œë ¥ > 0.5 ê¸°ì¤€ì´ ë„ˆë¬´ ë‚®ì„ ìˆ˜ ìˆìŒ
3. âš ï¸ **í›„ì²˜ë¦¬ ë¶€ì¡±**: ì‘ì€ ë…¸ì´ì¦ˆ ì œê±° ì•ˆë¨

**í•´ê²° ë°©ì•ˆ**:
```python
# 1. ì„ê³„ê°’ ì¡°ì •
pred_mask = (pred_prob > 0.6).astype(int)  # 0.5 â†’ 0.6

# 2. Morphological í›„ì²˜ë¦¬
kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5, 5))
pred_mask = cv2.morphologyEx(pred_mask, cv2.MORPH_OPEN, kernel)

# 3. Connected Component í•„í„°ë§
num_labels, labels, stats, _ = cv2.connectedComponentsWithStats(pred_mask)
for i in range(1, num_labels):
    if stats[i, cv2.CC_STAT_AREA] < 100:  # ì‘ì€ ì˜ì—­ ì œê±°
        pred_mask[labels == i] = 0
```

**ì˜ˆìƒ ê°œì„ **: Precision +10~15% â†’ **0.47~0.52**

---

### 2. ì¼ë¶€ ì™„ì „ ì‹¤íŒ¨ ì¼€ì´ìŠ¤

**ì¦ìƒ**:
- Precision = 0, Recall = 0ì¸ ìƒ˜í”Œ ì¡´ì¬
- IoUê°€ 0.48 ì´í•˜ì¸ "ì–´ë ¤ìš´" ìƒ˜í”Œ

**ì›ì¸**:
1. íŠ¹ìˆ˜í•œ ì¡°ëª… ì¡°ê±´
2. ì°¨ì„ ì´ ë§¤ìš° í¬ë¯¸í•œ ê²½ìš°
3. ì–´ë…¸í…Œì´ì…˜ í’ˆì§ˆ ë¬¸ì œ ê°€ëŠ¥ì„±

**í•´ê²° ë°©ì•ˆ**:
- ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì‹œê°í™” ë° ë¶„ì„
- í•´ë‹¹ ìƒ˜í”Œ ì¬ë¼ë²¨ë§ ê²€í† 
- ë°ì´í„° ì¦ê°• ê°•í™” (ì¡°ëª… ë³€í™”)

---

### 3. ìµœì†Œ ê¸°ì¤€ 0.042 ë¶€ì¡±

**Gap ë¶„ì„**:
```
ëª©í‘œ IoU: 0.70
í˜„ì¬ IoU: 0.6576
ë¶€ì¡±ë¶„: 0.0424 (4.24%)

ê°œì„  ë°©ì•ˆë³„ ì˜ˆìƒ íš¨ê³¼:
â”œâ”€ í›„ì²˜ë¦¬ (Morphology, CCA): +0.01 (1%)
â”œâ”€ ì„ê³„ê°’ ìµœì í™”: +0.01 (1%)
â”œâ”€ 200 epoch í•™ìŠµ: +0.02 (2%)
â”œâ”€ TTA (Test-Time Aug): +0.02 (2%)
â”œâ”€ í•´ìƒë„ ë³µì› (640Ã—480): +0.05 (5%)
â””â”€ Mixed Precision + ë°°ì¹˜ ì¦ê°€: +0.02 (2%)

ì˜ˆìƒ ëˆ„ì  ê°œì„ : +0.13 (13%)
â†’ ìµœì¢… ì˜ˆìƒ: 0.6576 + 0.13 = 0.7876 âœ…
```

---

## ğŸ¯ ê°œì„  ë¡œë“œë§µ

### Phase 1: ì¦‰ì‹œ ê°œì„  (1-2ì¼)

```bash
# 1. í›„ì²˜ë¦¬ ì ìš©
python apply_postprocessing.py --threshold 0.6

# ì˜ˆìƒ: IoU 0.66 â†’ 0.68 (+0.02)

# 2. 200 epoch ì „ì²´ í•™ìŠµ
python train_full.py --epochs 200

# ì˜ˆìƒ: IoU 0.68 â†’ 0.70 (+0.02) âœ… ìµœì†Œ ê¸°ì¤€ ë‹¬ì„±
```

**ëª©í‘œ**: IoU **0.70** ë‹¬ì„± (ìµœì†Œ ê¸°ì¤€)

---

### Phase 2: ë‹¨ê¸° ê°œì„  (1ì£¼)

```bash
# 3. Mixed Precision (FP16) + ë°°ì¹˜ ì¦ê°€
python train_fp16.py --batch-size 16

# ì˜ˆìƒ: IoU 0.70 â†’ 0.72 (+0.02)

# 4. TTA ì ìš©
python test_tta.py

# ì˜ˆìƒ: IoU 0.72 â†’ 0.74 (+0.02)
```

**ëª©í‘œ**: IoU **0.74** ë‹¬ì„±

---

### Phase 3: ì¤‘ê¸° ê°œì„  (1ê°œì›”)

```bash
# 5. í•´ìƒë„ ë³µì› (640Ã—480)
python train_highres.py --resolution 640x480

# ì˜ˆìƒ: IoU 0.74 â†’ 0.79 (+0.05) âœ… í˜„ì‹¤ì  ëª©í‘œ ë‹¬ì„±

# 6. Ensemble (3 models)
python train_ensemble.py --num-models 3

# ì˜ˆìƒ: IoU 0.79 â†’ 0.81 (+0.02)
```

**ëª©í‘œ**: IoU **0.75-0.81** ë‹¬ì„± (í˜„ì‹¤ì  ëª©í‘œ ì´ˆê³¼)

---

## ğŸ“Š ë¶„í¬ ë¶„ì„

### IoU ë¶„í¬ íŠ¹ì„±

```
Percentiles:
  10th: 0.5812
  25th: 0.6231
  50th (Median): 0.6742
  75th: 0.7001
  90th: 0.7204

Outliers:
  Lower (< Q1 - 1.5*IQR): 1ê°œ (0.4786)
  Upper (> Q3 + 1.5*IQR): 0ê°œ
```

**í•´ì„**:
- âœ… ëŒ€ë¶€ë¶„ì˜ ìƒ˜í”Œì´ 0.62-0.72 ë²”ìœ„
- âš ï¸ í•˜ìœ„ 10% ìƒ˜í”Œì´ í‰ê· ì„ ëŒì–´ë‚´ë¦¼
- âœ… ì´ìƒì¹˜ê°€ ì ìŒ (ì•ˆì •ì )

---

## ğŸ’¡ í•µì‹¬ ë°œê²¬ì‚¬í•­

### 1. ì¼ë°˜í™”ëŠ” ì™„ë²½ âœ…
- Val IoU (0.6583) â‰ˆ Test IoU (0.6576)
- Gap < 0.1% â†’ ê³¼ì í•© ì „í˜€ ì—†ìŒ
- ëª¨ë¸ì´ ì•ˆì •ì ìœ¼ë¡œ í•™ìŠµë¨

### 2. Precisionì´ ë³‘ëª© âš ï¸
- Precision (37.1%) << Recall (69.3%)
- False Positive ë¬¸ì œê°€ ì‹¬ê°
- í›„ì²˜ë¦¬ë¡œ í¬ê²Œ ê°œì„  ê°€ëŠ¥

### 3. ëª©í‘œì— ë§¤ìš° ê·¼ì ‘ âœ…
- ìµœì†Œ ê¸°ì¤€(0.70) ëŒ€ë¹„ 94% ë‹¬ì„±
- ê°„ë‹¨í•œ ê°œì„ ìœ¼ë¡œ ë‹¬ì„± ê°€ëŠ¥
- í˜„ì‹¤ì  ëª©í‘œ(0.75)ë„ ì¶©ë¶„íˆ ë„ë‹¬ ê°€ëŠ¥

### 4. ì•ˆì •ì„± ìš°ìˆ˜ âœ…
- í‘œì¤€í¸ì°¨ 6.15% (ë‚®ìŒ)
- ëŒ€ë¶€ë¶„ ìƒ˜í”Œì´ 0.60-0.72 ë²”ìœ„
- ê·¹ë‹¨ì  ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì ìŒ (1ê°œ)

---

## ğŸ“ êµí›ˆ

### ì„±ê³µ ìš”ì¸
1. âœ… **ì•ˆì •ì  í•™ìŠµ**: ê³¼ì í•© ì—†ì´ ìˆ˜ë ´
2. âœ… **ì ì ˆí•œ ë¶„í• **: Train/Val/Test ì¼ê´€ì„±
3. âœ… **ëª¨ë¸ ì„ íƒ**: DeepLabV3+ íš¨ê³¼ì 
4. âœ… **ì†ì‹¤ í•¨ìˆ˜**: CE + Dice ì¡°í•© ì ì ˆ

### ê°œì„  í•„ìš” ì‚¬í•­
1. âš ï¸ **í›„ì²˜ë¦¬ í•„ìˆ˜**: Precision í–¥ìƒ ìœ„í•´
2. âš ï¸ **ë” ë§ì€ í•™ìŠµ**: 50 â†’ 200 epochs
3. âš ï¸ **í•´ìƒë„ ë³µì›**: 320Ã—320 â†’ 640Ã—480
4. âš ï¸ **ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ë¶„ì„**: ê°œë³„ ìƒ˜í”Œ ê²€í† 

---

## ğŸ“ ìµœì¢… í‰ê°€

### ì¢…í•© ì ìˆ˜: â­â­â­â­â˜† (4/5)

| í•­ëª© | ì ìˆ˜ | í‰ê°€ |
|------|------|------|
| **Test IoU** | â­â­â­â­ | 94% ë‹¬ì„± (ë§¤ìš° ê·¼ì ‘) |
| **ì¼ë°˜í™”** | â­â­â­â­â­ | ì™„ë²½ (Val â‰ˆ Test) |
| **ì•ˆì •ì„±** | â­â­â­â­â­ | ìš°ìˆ˜ (ë‚®ì€ ë¶„ì‚°) |
| **Pixel Accuracy** | â­â­â­â­â­ | 98.49% (íƒì›”) |
| **Precision** | â­â­ | 37.1% (ë‚®ìŒ, ê°œì„  í•„ìš”) |
| **Recall** | â­â­â­â­ | 69.3% (ì–‘í˜¸) |

**ì¢…í•© í‰ê°€**:
> **Baseline ëª¨ë¸ë¡œì„œ ë§¤ìš° ì„±ê³µì **
> 
> - âœ… ìµœì†Œ ê¸°ì¤€(IoU 0.70)ì— 4.2% ë¶€ì¡± (94% ë‹¬ì„±)
> - âœ… ì¼ë°˜í™” ì™„ë²½ (Val â‰ˆ Test)
> - âš ï¸ Precision ê°œì„  í•„ìš” (í›„ì²˜ë¦¬ë¡œ í•´ê²° ê°€ëŠ¥)
> - ğŸš€ ëª…í™•í•œ ê°œì„  ê²½ë¡œ í™•ë³´
> - â­ **ì¶”ê°€ ê°œì„ ìœ¼ë¡œ ëª©í‘œ ë‹¬ì„± ì¶©ë¶„íˆ ê°€ëŠ¥**

---

## ğŸš€ ë‹¤ìŒ ì•¡ì…˜ ì•„ì´í…œ

### ìš°ì„ ìˆœìœ„ 1 (ì¦‰ì‹œ)
- [ ] í›„ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ êµ¬í˜„ (Morphology + CCA)
- [ ] ì„ê³„ê°’ ìµœì í™” (0.5 â†’ 0.6)
- [ ] ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì‹œê°í™” ë° ë¶„ì„

### ìš°ì„ ìˆœìœ„ 2 (1ì£¼ ë‚´)
- [ ] 200 epoch ì „ì²´ í•™ìŠµ
- [ ] TTA (Test-Time Augmentation) ì ìš©
- [ ] Mixed Precision Training

### ìš°ì„ ìˆœìœ„ 3 (1ê°œì›” ë‚´)
- [ ] í•´ìƒë„ ë³µì› (640Ã—480)
- [ ] Ensemble ëª¨ë¸ í•™ìŠµ
- [ ] ì‹¤ì°¨ í…ŒìŠ¤íŠ¸ ì¤€ë¹„

---

**ì‘ì„±ì¼**: 2026-01-29  
**ë²„ì „**: 1.0  
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: í›„ì²˜ë¦¬ ì ìš© í›„
